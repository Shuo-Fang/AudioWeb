<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org" >
<head>
    <th:block th:include="include :: header('新增歌单')" />
</head>
<body class="white-bg">
    <div class="wrapper wrapper-content animated fadeInRight ibox-content">
        <div class="col-sm-12 select-table table-striped">
        	<h4 class="form-header h4">基本信息</h4>
        	<form class="form-horizontal m" id="form-songlist-add">
	        	<input name="listUserId" type="hidden">
	        	<input name="songData" id="songData" type="hidden">
	        	<div class="row">
	            	<div class="col-sm-6">
	                    <div class="form-group">
	                        <label class="col-sm-3 control-label is-required">歌单名称：</label>
	                        <div class="col-sm-8">
	                        	<input name="listName" placeholder="请输入歌单名称" class="form-control" type="text" maxlength="50" required>
	                        </div>
	                    </div>
	                </div>
					<div class="col-sm-6">
	                    <div class="form-group">
	                        <label class="col-sm-3 control-label">状态：</label>
	                        <div class="col-sm-8">
	                            <label class="toggle-switch switch-solid">
		                            <input type="checkbox" id="status" checked>
		                            <span></span>
		                        </label>
	                        </div>
	                    </div>
                	</div>
            	</div>
	        </form>
		    <h4 class="form-header h4">已选音频</h4>
		    <div class="icon-view-plus" id="toolbar" role="group">
	            <a class="icon iconfont icon-liebiao" onclick="showFileList()" shiro:hasPermission="work:filecast:add" title = "音频列表">
	            </a>
	            <a class="icon iconfont icon-yinyueset" onclick="showUpload()" shiro:hasPermission="work:filecast:add" title = "其他歌单导入">
	            </a>
	            <a class="icon iconfont icon-shanchu" onclick="showUpload()" title = "删除">
	            </a>
        	</div>
			<table id="bootstrap-table"
			 data-use-row-attr-func="true"
			 data-reorderable-rows="true"></table>
		</div>
		<div class="row">
        <div class="col-sm-offset-5 col-sm-10">
            <button type="button" class="btn btn-sm btn-primary" onclick="submitHandler()"><i class="fa fa-check"></i>保 存</button>&nbsp;
            <button type="button" class="btn btn-sm btn-danger" onclick="closeItem()"><i class="fa fa-reply-all"></i>关 闭 </button>
        </div>
    	</div>
    </div>
    <th:block th:include="include :: footer" />
    <script type="text/javascript">
        var prefix = ctx + "work/songlist"
        $("#form-songlist-add").validate({
            focusCleanup: true
        });

        function submitHandler() {
            if ($.validate.form()) {
            	if($.common.isEmpty($("#songData").val())){
            		$.modal.msgError("已选音频为空！");
            		return;
            	}
                $.operate.save(prefix + "/add", $('#form-songlist-add').serialize());
            }
        }
        /**展示选择音频*/
        function showFileList(){
        	var url = ctx + "work/file/filelist";
        	$.modal.openFull("音频列表",url,"","",setFiles);
        }
        function setFiles(index, layero){
        	
        }
    </script>
</body>
</html>